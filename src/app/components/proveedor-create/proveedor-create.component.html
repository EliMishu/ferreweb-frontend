<div class="container">
    <h2>Crear Nuevo Proveedor</h2>
  
    <form [formGroup]="proveedorForm" (ngSubmit)="crearProveedor()">
  
      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>RUC</mat-label>
          <input 
            matInput 
            formControlName="ruc" 
            type="text" 
            id="ruc" 
            maxlength="11"
            placeholder="RUC del proveedor" />
          <mat-error *ngIf="proveedorForm.get('ruc')?.hasError('required')">
            El campo RUC es obligatorio.
          </mat-error>
          <mat-error *ngIf="proveedorForm.get('ruc')?.hasError('pattern')">
            El RUC debe tener 11 caractéres.
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Nombre</mat-label>
          <input 
            matInput 
            formControlName="nombre" 
            type="text" 
            id="nombre" 
            placeholder="Nombre o Razón Social del proveedor" />
          <mat-error *ngIf="proveedorForm.get('nombre')?.hasError('required')">
            El campo Nombre es obligatorio.
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Nombre Comercial</mat-label>
          <input 
            matInput 
            formControlName="nombreComercial" 
            type="text" 
            id="nombreComercial" 
            placeholder="Nombre comercial del proveedor" />
          <mat-error *ngIf="proveedorForm.get('nombreComercial')?.hasError('required')">
            El campo Nombre Comercial es obligatorio.
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Email</mat-label>
          <input 
            matInput 
            formControlName="email" 
            type="email" 
            id="email" 
            placeholder="Email del proveedor" />
          <mat-error *ngIf="proveedorForm.get('email')?.hasError('required')">
            El campo Email es obligatorio.
          </mat-error>
          <mat-error *ngIf="proveedorForm.get('email')?.hasError('email')">
            El formato del email no es válido.
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Teléfono</mat-label>
          <input 
            matInput 
            formControlName="telefono" 
            type="text" 
            id="telefono" 
            maxlength="9"
            placeholder="Teléfono del proveedor" />
          <mat-error *ngIf="proveedorForm.get('telefono')?.hasError('required')">
            El campo Teléfono es obligatorio.
          </mat-error>
          <mat-error *ngIf="proveedorForm.get('telefono')?.hasError('pattern')">
            El teléfono debe empezar en 9 y tener 9 dígitos.
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Dirección</mat-label>
          <input 
            matInput 
            formControlName="direccion" 
            type="text" 
            id="direccion" 
            placeholder="Dirección del proveedor" />
          <mat-error *ngIf="proveedorForm.get('direccion')?.hasError('required')">
            El campo Dirección es obligatorio.
          </mat-error>
        </mat-form-field>
      </div>
  
      <div class="form-group d-flex justify-content-between">
        <button 
          type="submit" 
          class="btn btn-primary" 
          [ngClass]="{ disabled: proveedorForm.invalid || isSubmitting }" 
          [attr.disabled]="proveedorForm.invalid || isSubmitting ? true : null">
          {{ isSubmitting ? "Creando..." : "Crear Proveedor" }}
        </button>
  
        <button 
          type="button" 
          class="btn btn-secondary" 
          [ngClass]="{ disabled: isSubmitting }" 
          (click)="cancelarCreacion()">
          Cancelar
        </button>
      </div>
    </form>
  </div>
  